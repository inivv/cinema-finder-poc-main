"use strict";(self.webpackChunkcinema_finder=self.webpackChunkcinema_finder||[]).push([[675],{1159:(e,t,r)=>{r.d(t,{A:()=>x});var o=r(2555),n=r(5721),a=r(4493),s=r(45),l=r(1837),i=r(8569),c=r(3845),d=r(7392),p=r(7149),m=r(3682),A=r(579);const u=["name","lat","lng","phoneNumber","distance"],h=e=>{let{name:t,lat:r,lng:o,phoneNumber:n,distance:a}=e;(0,s.A)(e,u);return(0,A.jsxs)(l.Ay,{children:[(0,A.jsxs)(i.A,{children:[t,a&&(0,A.jsx)(c.A,{size:"small",sx:{ml:1},label:"".concat((0,m.GP)(",.1f")(a)," km")})]}),n&&(0,A.jsx)(d.A,{component:"a",href:"tel:".concat(n),children:(0,A.jsx)(p.Cih,{})}),(0,A.jsx)(d.A,{onClick:()=>((e,t)=>{console.log("triggering `map.snapTo` event with args: ","lat: ".concat(e,", lng: ").concat(t)),dispatchEvent(new CustomEvent("map.snapTo",{detail:{lat:e,lng:t}}))})(r,o),children:(0,A.jsx)(p.Cud,{})})]})};var v=r(5043);const x=e=>{let{cinemas:t,Header:r=null}=e;return(0,A.jsxs)(n.A,{sx:{maxHeight:"calc(100vh - 112px)",overflowY:"auto"},children:[(0,A.jsx)(r,{cinemas:t}),r&&(0,A.jsx)(a.A,{}),t.map((e,t)=>(0,v.createElement)(h,(0,o.A)((0,o.A)({},e),{},{key:t})))]})}},5675:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ke});var o=r(8168),n=r(8587),a=r(5043),s=r(8387),l=r(3174),i=r(8812),c=r(8698),d=r(5527),p=r(579);const m=["className","component"];var A=r(9386),u=r(8194),h=r(3375),v=r(2532);const x=(0,v.A)("MuiBox",["root"]),f=(0,u.A)(),g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:r,defaultClassName:A="MuiBox-root",generateClassName:u}=e,h=(0,l.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(i.A);return a.forwardRef(function(e,a){const l=(0,d.A)(r),i=(0,c.A)(e),{className:v,component:x="div"}=i,f=(0,n.A)(i,m);return(0,p.jsx)(h,(0,o.A)({as:x,ref:a,className:(0,s.A)(v,u?u(A):A),theme:t&&l[t]||l},f))})}({themeId:h.A,defaultTheme:f,defaultClassName:x.root,generateClassName:A.A.generate}),y=g;var S=r(7528),j=r(8610),w=r(3290),C=r(6803),b=r(8206),k=r(4535),M=r(2372);function P(e){return(0,M.Ay)("MuiCircularProgress",e)}(0,v.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var N,z,I,R;const L=["className","color","disableShrink","size","style","thickness","value","variant"];let E,F,T,H;const O=44,B=(0,w.i7)(E||(E=N||(N=(0,S.A)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),G=(0,w.i7)(F||(F=z||(z=(0,S.A)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),W=(0,k.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t["color".concat((0,C.A)(r.color))]]}})(e=>{let{ownerState:t,theme:r}=e;return(0,o.A)({display:"inline-block"},"determinate"===t.variant&&{transition:r.transitions.create("transform")},"inherit"!==t.color&&{color:(r.vars||r).palette[t.color].main})},e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,w.AH)(T||(T=I||(I=(0,S.A)(["\n      animation: "," 1.4s linear infinite;\n    "]))),B)}),D=(0,k.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),V=(0,k.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t["circle".concat((0,C.A)(r.variant))],r.disableShrink&&t.circleDisableShrink]}})(e=>{let{ownerState:t,theme:r}=e;return(0,o.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})},e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,w.AH)(H||(H=R||(R=(0,S.A)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),G)}),_=a.forwardRef(function(e,t){const r=(0,b.b)({props:e,name:"MuiCircularProgress"}),{className:a,color:l="primary",disableShrink:i=!1,size:c=40,style:d,thickness:m=3.6,value:A=0,variant:u="indeterminate"}=r,h=(0,n.A)(r,L),v=(0,o.A)({},r,{color:l,disableShrink:i,size:c,thickness:m,value:A,variant:u}),x=(e=>{const{classes:t,variant:r,color:o,disableShrink:n}=e,a={root:["root",r,"color".concat((0,C.A)(o))],svg:["svg"],circle:["circle","circle".concat((0,C.A)(r)),n&&"circleDisableShrink"]};return(0,j.A)(a,P,t)})(v),f={},g={},y={};if("determinate"===u){const e=2*Math.PI*((O-m)/2);f.strokeDasharray=e.toFixed(3),y["aria-valuenow"]=Math.round(A),f.strokeDashoffset="".concat(((100-A)/100*e).toFixed(3),"px"),g.transform="rotate(-90deg)"}return(0,p.jsx)(W,(0,o.A)({className:(0,s.A)(x.root,a),style:(0,o.A)({width:c,height:c},g,d),ownerState:v,ref:t,role:"progressbar"},y,h,{children:(0,p.jsx)(D,{className:x.svg,ownerState:v,viewBox:"".concat(22," ").concat(22," ").concat(O," ").concat(O),children:(0,p.jsx)(V,{className:x.circle,style:f,ownerState:v,cx:O,cy:O,r:(O-m)/2,fill:"none",strokeWidth:m})})}))});var Y=r(7266),Z=r(3462),$=r(5006),q=r(6004),J=r(9523);const K=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],Q=["component","slots","slotProps"],U=["component"];function X(e,t){const{className:r,elementType:a,ownerState:s,externalForwardedProps:l,getSlotOwnerState:i,internalForwardedProps:c}=t,d=(0,n.A)(t,K),{component:p,slots:m={[e]:void 0},slotProps:A={[e]:void 0}}=l,u=(0,n.A)(l,Q),h=m[e]||a,v=(0,q.A)(A[e],s),x=(0,J.A)((0,o.A)({className:r},d,{externalForwardedProps:"root"===e?u:void 0,externalSlotProps:v})),{props:{component:f},internalRef:g}=x,y=(0,n.A)(x.props,U),S=(0,Z.A)(g,null==v?void 0:v.ref,t.ref),j=i?i(y):{},w=(0,o.A)({},s,j),C="root"===e?f||p:f,b=(0,$.A)(h,(0,o.A)({},"root"===e&&!p&&!m[e]&&c,"root"!==e&&!m[e]&&c,y,C&&{as:C},{ref:S}),w);return Object.keys(j).forEach(e=>{delete b[e]}),[h,b]}var ee=r(3336);function te(e){return(0,M.Ay)("MuiAlert",e)}const re=(0,v.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var oe=r(7392),ne=r(6734);const ae=(0,ne.A)((0,p.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),se=(0,ne.A)((0,p.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),le=(0,ne.A)((0,p.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),ie=(0,ne.A)((0,p.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),ce=(0,ne.A)((0,p.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),de=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],pe=(0,k.Ay)(ee.A,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t["".concat(r.variant).concat((0,C.A)(r.color||r.severity))]]}})(e=>{let{theme:t}=e;const r="light"===t.palette.mode?Y.e$:Y.a,n="light"===t.palette.mode?Y.a:Y.e$;return(0,o.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[o]=e;return{props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:r(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(o,"StandardBg")]:n(t.palette[o].light,.9),["& .".concat(re.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.light}).map(e=>{let[o]=e;return{props:{colorSeverity:o,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:r(t.palette[o].light,.6),border:"1px solid ".concat((t.vars||t).palette[o].light),["& .".concat(re.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}}}}),...Object.entries(t.palette).filter(e=>{let[,t]=e;return t.main&&t.dark}).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"filled"},style:(0,o.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(r,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(r,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)})}})]})}),me=(0,k.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Ae=(0,k.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),ue=(0,k.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),he={success:(0,p.jsx)(ae,{fontSize:"inherit"}),warning:(0,p.jsx)(se,{fontSize:"inherit"}),error:(0,p.jsx)(le,{fontSize:"inherit"}),info:(0,p.jsx)(ie,{fontSize:"inherit"})},ve=a.forwardRef(function(e,t){const r=(0,b.b)({props:e,name:"MuiAlert"}),{action:a,children:l,className:i,closeText:c="Close",color:d,components:m={},componentsProps:A={},icon:u,iconMapping:h=he,onClose:v,role:x="alert",severity:f="success",slotProps:g={},slots:y={},variant:S="standard"}=r,w=(0,n.A)(r,de),k=(0,o.A)({},r,{color:d,severity:f,variant:S,colorSeverity:d||f}),M=(e=>{const{variant:t,color:r,severity:o,classes:n}=e,a={root:["root","color".concat((0,C.A)(r||o)),"".concat(t).concat((0,C.A)(r||o)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,j.A)(a,te,n)})(k),P={slots:(0,o.A)({closeButton:m.CloseButton,closeIcon:m.CloseIcon},y),slotProps:(0,o.A)({},A,g)},[N,z]=X("closeButton",{elementType:oe.A,externalForwardedProps:P,ownerState:k}),[I,R]=X("closeIcon",{elementType:ce,externalForwardedProps:P,ownerState:k});return(0,p.jsxs)(pe,(0,o.A)({role:x,elevation:0,ownerState:k,className:(0,s.A)(M.root,i),ref:t},w,{children:[!1!==u?(0,p.jsx)(me,{ownerState:k,className:M.icon,children:u||h[f]||he[f]}):null,(0,p.jsx)(Ae,{ownerState:k,className:M.message,children:l}),null!=a?(0,p.jsx)(ue,{ownerState:k,className:M.action,children:a}):null,null==a&&v?(0,p.jsx)(ue,{ownerState:k,className:M.action,children:(0,p.jsx)(N,(0,o.A)({size:"small","aria-label":c,title:c,color:"inherit",onClick:v},z,{children:(0,p.jsx)(I,(0,o.A)({fontSize:"small"},R))}))}):null]}))});var xe=r(9980),fe=r(1159),ge=r(469),ye=r(8911),Se=r(5865),je=r(3845),we=r(7149),Ce=r(2582);const be=e=>{let{cinemas:t}=e;return(0,p.jsx)(ge.A,{sx:{pb:2},children:(0,p.jsxs)(ye.A,{direction:"row",justifyContent:"space-between",children:[(0,p.jsx)(oe.A,{component:Ce.N_,to:"/",children:(0,p.jsx)(we.cjW,{})}),(0,p.jsx)(Se.A,{sx:{alignSelf:"center",flex:1,textAlign:"center"},children:"Nearby Cinemas"}),t.length>0&&(0,p.jsx)(je.A,{label:t.length})]})})},ke=()=>{const{isGeolocationAvailable:e,isGeolocationEnabled:t,cinemas:r}=(0,xe.A)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(fe.A,{cinemas:r,Header:be}),e&&t&&0===r.length&&(0,p.jsx)(y,{sx:{textAlign:"center"},children:(0,p.jsx)(_,{})}),!e&&(0,p.jsx)(ve,{severity:"error",children:"Your browser does not support Geolocation"}),!t&&(0,p.jsx)(ve,{severity:"error",children:"Geolocation request was denied, or disabled."})]})}},9980:(e,t,r)=>{r.d(t,{A:()=>p});var o=r(2555),n=r(5043),a=r(4656),s=r(9604),l=r(4043),i=r(3536);const c=r(8677).A.map(e=>(0,o.A)((0,o.A)({},e),{},{loc:(0,s.zx)([e.lng,e.lat])})),d=(0,i.memoize)((e,t)=>{const r=(0,s.zx)([t,e]);return(0,i.sortBy)(c.map(e=>(0,o.A)((0,o.A)({},e),{},{distance:(0,l.A)(r,e.loc)})),"distance")}),p=()=>{const{coords:e,getPosition:t,isGeolocationAvailable:r,isGeolocationEnabled:o}=(0,a.L)();(0,n.useEffect)(()=>{o||t()},[]);const s=(0,n.useMemo)(()=>e?d(e.latitude,e.longitude).slice(0,15):[],[e]);return{isGeolocationAvailable:r,isGeolocationEnabled:o,coords:e,cinemas:s}}}}]);
//# sourceMappingURL=675.86c29c70.chunk.js.map